# π“ μ¤ν”„λ§ κ΄€λ ¨ λ‚΄μ© μ •λ¦¬ π“

### π“ μ–΄λ…Έν…μ΄μ…
**@Controller**
-	ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ μ μ©λ ν΄λμ¤λ” β€Controllerβ€μ„μ„ λ‚νƒ€λ‚΄κ³ , beanμΌλ΅ λ“±λ΅λλ©° ν•΄λ‹Ή ν΄λμ¤κ°€ Controllerλ΅ μ‚¬μ©λ¨μ„  Spring Frameworkμ— μ•λ¦Ό.


### π“ MVC ν¨ν„΄μ΄λ€?
-	Model β€“ View β€“ Controllerμ μ•½μ
-	κ°λ°μ„ ν•  λ• 3κ°€μ§€ ν•νƒλ΅ μ—­ν• μ„ λ‚λ„μ–΄μ„ κ°λ°ν•λ” λ°©λ²•

### π“ Model
-	μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ λ¬΄μ—‡μ„ ν•  κ²ƒμΈμ§€ μ •μ.
-	μ¦‰, DBμ™€ μ—°λ™ν•μ—¬ μ‚¬μ©μκ°€ μ…λ ¥ν• λ°μ΄ν„°λ‚ μ‚¬μ©μμ—κ² μ¶λ ¥ν•  λ°μ΄ν„°λ¥Ό λ‹¤λ£Ήλ‹λ‹¤.

### π“ View 
-	μ‚¬μ©μμ—κ² μ‹κ°μ μΌλ΅ λ³΄μ—¬μ£Όλ” λ¶€λ¶„

### π“ Controller 
-	Modelμ΄ λ°μ΄ν„°λ¥Ό μ–΄λ–»κ² μ²λ¦¬ν• μ§€ μ•λ ¤μ£Όλ” μ—­ν• 
-	μ‚¬μ©μμ ν΄λΌμ΄μ–ΈνΈλ΅ λ¶€ν„° μ„λ²„μ— λ³΄λ‚Έ λ°μ΄ν„°κ°€ μμΌλ©΄, λ¨λΈμ„ νΈμ¶ν•κΈ° μ „μ— μ»¨νΈλ΅¤λ¬κ°€ μ μ ν κ°€κ³µμ„ ν•κ³  λ¨λΈμ„ νΈμ¶
-	κ·Έλ° λ‹¤μ λ¨λΈμ΄ μ—…λ¬΄ μν–‰μ„ μ™„λ£ν•λ©΄ κ·Έ κ²°κ³Όλ¥Ό μ „λ‹¬λ°›κ³  λ‹¤μ‹ Viewμ—κ² μ „λ‹¬ν•΄μ£Όλ” μ—­ν• 


### π“ MVC ν¨ν„΄μ„ μ‚¬μ©ν•λ” μ΄μ 
-	μ‚¬μ©μκ°€ λ³΄λ” νμ΄μ§€, λ°μ΄ν„° μ²λ¦¬, κ·Έλ¦¬κ³  μ΄ 2κ°€μ§€λ¥Ό μ¤‘κ°„μ—μ„ μ μ–΄ν•λ” μ»¨νΈλ΅¤λ¬, μ΄ 3κ°€μ§€λ΅ μ–΄ν”λ¦¬μΌ€μ΄μ…μ„ λ‚λ„μ–΄μ„ λ§λ“¤λ©΄ κ°κ° λ§΅μ€λ°”μ—λ§ μ§‘μ¤‘ν•  μ μκ² λ©λ‹λ‹¤.
-	μ–΄ν”λ¦¬μΌ€μ΄μ…μ μ μ§€λ³΄μμ„±, ν™•μ¥μ„±, μ μ—°μ„±μ΄ μ¦κ°€ν•κ³ , μ¤‘λ³µμ½”λ”© λ¬Έμ λ„ μ‚¬λΌμ§

### π“ Controller λ€?
-	μ‚¬μ©μμ μ”μ²­μ„ μ²λ¦¬ν• ν›„, μ§€μ •λ Viewμ— Model κ°μ²΄λ¥Ό λ„κ²¨μ£Όλ” μ—­ν•  μν–‰
-	μ¦‰, μ‚¬μ©μμ μ”μ²­μ΄ μ§„μ…ν•λ” μ§€μ 
-	μ”μ²­μ— λ”°λΌ μ–΄λ–¤ μ²λ¦¬λ¥Ό ν• μ§€ κ²°μ •μ„ Serviceμ— λ„κ²¨μ¤€λ‹¤.
-	κ·Έ ν›„, Serviceμ—μ„ μ‹¤μ§μ μΌλ΅ μ²λ¦¬ν• λ‚΄μ©μ„ Viewμ— λ„κ²¨μ¤€λ‹¤.
-	Springμ—μ„ μ»¨νΈλ΅¤λ¬λ¥Ό μ§€μ •ν•΄μ£ΌκΈ° μ„ν• μ–΄λ…Έν…μ΄μ…μ€ @Controllerμ™€ @RestControllerκ°€ μλ‹¤.

### π“ @Controller
-	μ „ν†µμ μΈ Spring MVCμ μ»¨νΈλ΅¤λ¬
-	μ£Όλ΅ Viewλ¥Ό λ°ν™ν•κΈ° μ„ν•΄ μ‚¬μ©
-	@ResponseBody μ–΄λ…Έν…μ΄μ…κ³Ό κ°™μ΄ μ‚¬μ©ν•λ©΄ @RestControllerμ™€ λ‘ κ°™μ€ κΈ°λ¥μ„ μν–‰

### π“ @RestController (Spring Restful Controller)
-	@Controllerμ— @ResponseBody μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν¨κ³Όλ¥Ό μ§€λ‹κ² λλ‹¤.
-	μ£Όμ” μ©λ„λ” JSON/XML ν•νƒλ΅ κ°μ²΄ λ°μ΄ν„° λ°ν™μ„ λ©μ μΌλ΅ ν•λ‹¤.

### π“ Serviceλ€ ?
-	**μ›Ή μ”μ²­ μ²λ¦¬ κ³Όμ •**
-	1. Clientκ°€ Requestλ¥Ό λ³΄λ‚Έλ‹¤. (Ajax, Axios, Fecth λ“±λ“± β€¦)
-	2. Request URL κ²½λ΅μ— ν•΄λ‹Ήν•λ” μ•λ§μ€ Controllerκ°€ μ”μ²­μ„ μμ‹  λ°›λ”λ‹¤ (@Controller, @RestController)
-	3. Controllerλ” λ„μ–΄μ¨ μ”μ²­μ„ μ²λ¦¬ν•κΈ° μ„ν•΄ Serviceλ¥Ό νΈμ¶ν•λ‹¤.
-	4. Serviceλ” μ•λ§μ€ μ •λ³΄λ¥Ό κ°€κ³µν•μ—¬ Controllerμ—κ² λ°μ΄ν„°λ¥Ό λ„κΈ΄λ‹¤.
-	5. Controllerλ” Serviceμ κ²°κ³Όλ¬Όμ„ CLientμ—κ² μ „λ‹¬ν•΄μ¤€λ‹¤.

-	Serviceκ°€ μ•λ§μ€ μ •λ³΄λ¥Ό κ°€κ³µν•λ” κ³Όμ •μ„ β€λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μν–‰ν•λ‹¤β€™ λΌκ³  ν•λ‹¤.
-	Serviceκ°€ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μν–‰ν•κ³  λ°μ΄ν„°λ² μ΄μ¤μ— μ ‘κ·Όν•λ” DAOλ¥Ό μ΄μ©ν•΄μ„ κ²°κ³Όκ°’μ„ λ°›μ•„ μ¨λ‹¤.

### π“ DAO λ€?
-	DB μ„λ²„μ— μ ‘κ·Όν•μ—¬ SQLλ¬Έμ„ μ‹¤ν–‰ν•  μ μλ” κ°μ²΄

### π“ JAPλ€?
-	λ§¤μ° μ μ€ μ–‘μ μ½”λ“λ΅ DAOλ¥Ό κµ¬ν„ν•  μ μλ„λ΅ ν•΄μ¤€λ‹¤.
-	μ¦‰, μΈν„°νμ΄μ¤λ¥Ό λ§λ“λ” κ²ƒ λ§μΌλ΅λ„ Entity (@Entity) ν΄λ μ¤μ— λ€ν• insert, Update, Delete, Select λ¥Ό μ‹¤ν–‰ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.
-	But, JPAκ°€ λ§λ“¤ μ μλ” μ½”λ“λ” λ§¤μ° κ°€λ³κ³  μ‰¬μ΄ μΏΌλ¦¬λ¥Ό λ€μ²ν•λ” κ²ƒμ΄λΌμ„ μΏΌλ¦¬ λ³µμ΅λ„κ°€ λ†’μ•„μ§€λ©΄ μ‚¬μ©ν•κΈ°κ°€ μ–΄λ µλ‹¤.
-	μ΄λ•, JPAμΌλ΅λ§ DBλ¥Ό μ μ–΄ν•λ‹¤λ©΄ μν–‰λ¥λ ¥μ΄ SQLμ„ μ§μ ‘ μ‚¬μ©ν•΄μ„ κ°λ°ν•λ” κ²ƒλ³΄λ‹¤ λ»ν• μƒν™©μ΄ λ²μ–΄ μ§ μλ„ μλ‹¤.
-	κ·Έλμ„ JPAλ¥Ό κΉκ² κ³µλ¶€ν•΄μ„ JPAλ΅ λ³µμ΅λ„κ°€ λ†’μ€ μΏΌλ¦¬λ¥Ό μ§κ±°λ‚ μ•„λ‹λ©΄ λ³µμ΅λ„κ°€ λ†’μ€ κ³³μ€ DAOλ΅ κ°™μ΄ μ‚¬μ©ν•λ‹¤κ³  ν•λ‹¤.

### π“ Consumes μ™€ produces μ†μ„±
-	Mappingμ„ ν•  λ•, μ°λ¦¬λ” λ°›κ³  μ‹¶μ€ λ°μ΄ν„°λ¥Ό κ°•μ  ν•¨μΌλ΅μ¨ μ¤λ¥ μƒν™©μ„ μ¤„μΌ μ μλ‹¤.
-	μ΄ λ• μ‚¬μ©ν•λ” κ²ƒ μ¤‘ ν•λ‚κ°€ Media Types μ΄λ‹¤.
-	Consumesλ” λ“¤μ–΄μ¤λ” λ°μ΄ν„° νƒ€μ…μ„ μ •μν•  λ• μ΄μ©ν•λ‹¤.
  
  μλ¥Ό λ“¤μ–΄μ„ λ‚΄κ°€ json νƒ€μ…μ„ λ°›κ³  μ‹¶λ‹¤λ©΄ μ•„λμ™€ κ°™μ΄ μ²λ¦¬κ°€ κ°€λ¥
  
  ```java  
  @PostMapping(path = "/pests", consumes = MediaType.APPLICATION_JSON_VALUE) 
  Public void addPet(@RequestBody Pet pet) {
      // ...
  }
  
  ```
  μ΄λ ‡κ² μ²λ¦¬λ¥Ό ν•κ² λλ©΄ ν•΄λ‹Ή uriλ¥Ό νΈμ¶ν•λ” μ½μ—μ„ ν—¤λ”μ— λ³΄λ‚΄λ” λ°μ΄ν„°κ°€ json μ΄λΌλ” κ²ƒμ„ λ…μ‹ν•΄μ•Ό ν•λ‹¤.
  ```
  Content-Type:application/json
  ```
  
  
  producesλ” λ°ν™ν•λ” λ°μ΄ν„° νƒ€μ…μ„ μ •μν•λ‹¤.
  ```java
  @GetMapping(path = "/pets/{petId}", produces = MediaType.APPLICATIOPN_JSON_VALUE)
  @ResponseBody 
  public Pet getPet(@PathVariable String petId) {
    // ...
  }
  ```
  
  μ΄λ΄ κ²½μ° λ°ν™ νƒ€μ…μ΄ jsonμΌλ΅ κ°•μ λλ‹¤.
  λ‚΄κ°€ λ³΄λ‚΄μ•Ό ν•λ” νƒ€μ…μ΄ μ •ν•΄μ Έ μλ‹¤λ©΄ ν•΄λ‹Ή λ¶€λ¶„μ„ μ •μν•λ©΄ λλ‹¤.
  μ”μ²­ν•λ” μ…μ¥μ—μ„ νΉμ • νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ›ν•λ‹¤λ©΄ μ•„λμ™€ κ°™μ€ λ‚΄μ©μ„ ν—¤λ”μ— μ¶”κ°€ν•λ‹¤.
  
  ```
  Accept:application/json
  ```
  
  μ”μ•½μ •λ¦¬ : 
  - consumesλ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² λ³΄λ‚΄λ” λ°μ΄ν„° νƒ€μ…μ„ λ…μ‹ν•λ‹¤.
  - producesλ” μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™ν•λ” λ°μ΄ν„° νƒ€μ…μ„ λ…μ‹ν•λ‹¤.
  
<br>  
  
**π“ Springμ Controllerμ κ°€μ¥ νΈλ¦¬ν• κΈ°λ¥μ€ νλΌλ―Έν„°κ°€ μλ™μΌλ΅ μμ§‘λλ” κΈ°λ¥μ΄λ‹¤**
- μ΄ κΈ°λ¥μ„ μ΄μ©ν•λ©΄ setter λ©”μ„λ“κ°€ μλ” κ°μ²΄κ°€ μ»¨νΈλ΅¤λ¬μ νλΌλ―Έν„°λ΅ μ§€μ •μ΄λλ©΄, ν•΄λ‹Ή κ°μ²΄μ setter λ©”μ„λ“κ°€ μλ™μΌλ΅ μ‚¬μ©λμ–΄ νλΌλ―Έν„°λ¥Ό μμ§‘ν•΄μ¨λ‹¤.
- Controllerκ°€ νλΌλ―Έν„°λ¥Ό μμ§‘ν•λ” λ°©μ‹μ€ νλΌλ―Έν„° νƒ€μ…μ— λ”°λΌ μλ™μΌλ΅ λ³€ν™ν•λ” λ°©μ‹μ„ μ΄μ©ν•©λ‹λ‹¤.
- μλ¥Ό λ“¤μ–΄ int νƒ€μ…μΌλ΅ μ„ μ–Έλ age ν•„λ“λ” μλ™μΌλ΅ μ«μλ΅ λ³€ν™λμ–΄ μμ§‘μ΄ λ©λ‹λ‹¤.
- λ§μΌ κΈ°λ³Έ μλ£ν•μ΄λ‚ λ¬Έμμ—΄ λ“±μ„ μ΄μ©ν•λ‹¤λ©΄ νλΌλ―Έν„° νƒ€μ…λ§μ„ λ§κ² μ„ μ–Έν•΄μ£Όλ” λ°©μ‹μ„ μ‚¬μ©ν•  μ μλ‹¤.


### Model μ΄λΌλ” λ°μ΄ν„° μ „λ‹¬μ
- Controllerμ λ©”μ„λ“λ¥Ό μ‘μ„±ν•  λ•λ” νΉλ³„ν•κ² Model μ΄λΌλ” νƒ€μ…μ„ νλΌλ―Έν„°λ΅ μ§€μ •ν•  μ μμµλ‹λ‹¤. Model κ°μ²΄λ” JSPμ— μ»¨νΈλ΅¤λ¬λ΅ μƒμ„±λ λ°μ΄ν„°λ¥Ό λ‹΄μ•„μ„ μ „λ‹¬ν•λ” μ—­ν• μ„ ν•λ” μ΅΄μ¬μ…λ‹λ‹¤.
- μ΄λ¥Ό μ΄μ©ν•΄μ„ jspμ™€ κ°™μ€ λ·°λ΅ μ „λ‹¬ν•΄μ•Όν•λ” λ°μ΄ν„°λ¥Ό λ‹΄μ•„μ„ λ³΄λ‚Ό μ μλ‹¤.
- λ©”μ„λ“μ νλΌλ―Έν„°μ— Model νƒ€μ…μ΄ μ§€μ •λ κ²½μ°μ—λ” μ¤ν”„λ§μ€ νΉλ³„ν•κ² Model νƒ€μ…μ κ°μ²΄λ¥Ό λ§λ“¤μ–΄μ„ λ©”μ„λ“μ— μ£Όμ…ν•κ² λλ‹¤.
- μ΄μ²λΌ νΉμ • νƒ€μ…μ νλΌλ―Έν„°λ” μ¤ν”„λ§μ—μ„ μ•μ•„μ„ μλ™μΌλ΅ κ°μ²΄λ¥Ό λ„£μ–΄μ£Όλ” κ²ƒ κ°™λ‹¤.
